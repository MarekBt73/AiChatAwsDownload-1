{% extends "base_generic.html" %}
{% load form_tags %}

{% block title %}
Edytuj profil - {{ user.username }}
{% endblock %}

{% block content %}
<div class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
    <h2 class="text-2xl font-semibold leading-tight text-gray-900">Edytuj profil użytkownika</h2>

    <form method="POST">
        {% csrf_token %}
        <div class="shadow overflow-hidden border-b border-gray-200 sm:rounded-lg mt-4">
            <table class="min-w-full divide-y divide-gray-200">
                <thead class="bg-gray-50">
                    <tr>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                            Szczegół
                        </th>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                            Informacja
                        </th>
                    </tr>
                </thead>
                <tbody class="bg-white divide-y divide-gray-200">
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap">Nazwa użytkownika</td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            {{ form.username|add_class:"border border-gray-300 bg-gray-50 p-2 rounded" }}
                        </td>
                    </tr>
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap">Email</td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            {{ form.email|add_class:"border border-gray-300 bg-gray-50 p-2 rounded" }}
                        </td>
                    </tr>
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap">Imię</td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            {{ form.first_name|add_class:"border border-gray-300 bg-gray-50 p-2 rounded" }}
                        </td>
                    </tr>
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap">Nazwisko</td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            {{ form.last_name|add_class:"border border-gray-300 bg-gray-50 p-2 rounded" }}
                        </td>
                    </tr>
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap">Adres</td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            {{ form.address|add_class:"border border-gray-300 bg-gray-50 p-2 rounded" }}
                        </td>
                    </tr>
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap">Ulica</td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            {{ form.street|add_class:"border border-gray-300 bg-gray-50 p-2 rounded" }}
                        </td>
                    </tr>
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap">Kod pocztowy</td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            {{ form.postal_code|add_class:"border border-gray-300 bg-gray-50 p-2 rounded" }}
                        </td>
                    </tr>
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap">Miasto</td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            {{ form.city|add_class:"border border-gray-300 bg-gray-50 p-2 rounded" }}
                        </td>
                    </tr>
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap">Telefon komórkowy</td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            {{ form.mobile_phone|add_class:"border border-gray-300 bg-gray-50 p-2 rounded" }}
                        </td>
                    </tr>
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap">Przedmioty</td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            {{ form.subjects|add_class:"border border-gray-300 bg-gray-50 p-2 rounded" }}
                        </td>
                    </tr>
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap">Typ szkoły</td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            {{ form.school_type|add_class:"border border-gray-300 bg-gray-50 p-2 rounded" }}
                        </td>
                    </tr>
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap">Klasa</td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            Klasa: {{ form.grade|add_class:"border border-gray-300 bg-gray-50 p-2 rounded" }}
                        </td>
                    </tr>
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap">Potwierdzenie e-mail</td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            {% if user.email_confirmed %}
                                Twój e-mail jest potwierdzony.
                            {% else %}
                                <span class="text-red-600">Aby korzystać w pełni z serwisu, potwierdź e-mail.</span>
                                <a href="{% url 'account_email_verification_sent' %}" class="text-indigo-600 hover:text-indigo-900">Wyślij ponownie e-mail z potwierdzeniem</a>
                            {% endif %}
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="mt-6">
            <button type="submit" class="w-full inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">Zapisz zmiany</button>
        </div>
    </form>
</div>
{% endblock %}
